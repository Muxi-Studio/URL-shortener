<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1548" height="1580" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Created with Raphaël 2.1.2开始输入网址用户输入的是短链接提示用户不能输入短链接结束查询数据库是否存在该URL返回短码返回短网址用户选择自定义短码短码是否存在提示用户该短码已存在更新短码到数据库根据id计算对应的短码短码是否存在查询数据库获得一条自定义短码的url对应的id记录yesnoyesnoyesnoyesnoyesno]]></source><desc>Created with Raphaël 2.1.2</desc><defs><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block-obj5"></path><marker id="raphael-marker-endblock33-obj6" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block-obj5" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none"></use></marker></defs><rect x="0" y="0" width="50" height="43" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="" stroke-width="2" class="flowchart" id="st" transform="matrix(1,0,0,1,102.75,44.375)"></rect><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="10" y="21.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="stt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,102.75,44.375)" stroke-width="1"><tspan dy="6.5">开始</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M10,21.5L0,43L100,43L120,0L20,0L10,21.5" stroke-width="2" id="io1" class="flowchart" transform="matrix(1,0,0,1,67.75,181.75)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="30" y="21.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="io1t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,67.75,181.75)" stroke-width="1"><tspan dy="6.5">输入网址</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M61.875,30.9375L0,61.875L123.75,123.75L247.5,61.875L123.75,0L0,61.875" stroke-width="2" id="cond7" class="flowchart" transform="matrix(1,0,0,1,4,278.75)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="66.875" y="61.875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="cond7t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,4,278.75)" stroke-width="1"><tspan dy="6.5">用户输入的是短链接</tspan><tspan dy="18" x="66.875"></tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M10,30.5L0,61L145,61L165,0L20,0L10,30.5" stroke-width="2" id="io4" class="flowchart" transform="matrix(1,0,0,1,991.25,310.125)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="30" y="30.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="io4t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,991.25,310.125)" stroke-width="1"><tspan dy="-2.5">提示用户</tspan><tspan dy="18" x="30">不能输入短链接</tspan></text><rect x="0" y="0" width="50" height="43" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="" stroke-width="2" class="flowchart" id="e" transform="matrix(1,0,0,1,102.75,1535.375)"></rect><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="10" y="21.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="et" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,102.75,1535.375)" stroke-width="1"><tspan dy="6.5">结束</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M50.625,25.3125L0,50.625L101.25,101.25L202.5,50.625L101.25,0L0,50.625" stroke-width="2" id="cond1" class="flowchart" transform="matrix(1,0,0,1,26.5,467.75)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="55.625" y="50.625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="cond1t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,26.5,467.75)" stroke-width="1"><tspan dy="-2.5">查询数据库</tspan><tspan dy="18" x="55.625">是否存在该URL</tspan></text><rect x="0" y="0" width="80" height="43" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="" stroke-width="2" class="flowchart" id="op1" transform="matrix(1,0,0,1,87.75,1260.625)"></rect><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="10" y="21.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="op1t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,87.75,1260.625)" stroke-width="1"><tspan dy="6.5">返回短码</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M10,21.5L0,43L115,43L135,0L20,0L10,21.5" stroke-width="2" id="io2" class="flowchart" transform="matrix(1,0,0,1,60.25,1398)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="30" y="21.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="io2t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,60.25,1398)" stroke-width="1"><tspan dy="6.5">返回短网址</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M39.375,22.875L0,45.75L78.75,91.5L157.5,45.75L78.75,0L0,45.75" stroke-width="2" id="cond2" class="flowchart" transform="matrix(1,0,0,1,49,639.125)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="44.375" y="45.75" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="cond2t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,49,639.125)" stroke-width="1"><tspan dy="-2.5">用户选择</tspan><tspan dy="18" x="44.375">自定义短码</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M45,22.5L0,45L90,90L180,45L90,0L0,45" stroke-width="2" id="cond5" class="flowchart" transform="matrix(1,0,0,1,508.5,639.875)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="50" y="45" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="cond5t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,508.5,639.875)" stroke-width="1"><tspan dy="6.5">短码是否存在</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M10,30.5L0,61L130,61L150,0L20,0L10,30.5" stroke-width="2" id="io3" class="flowchart" transform="matrix(1,0,0,1,791.25,654.375)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="30" y="30.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="io3t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,791.25,654.375)" stroke-width="1"><tspan dy="-2.5">提示用户</tspan><tspan dy="18" x="30">该短码已存在</tspan></text><rect x="0" y="0" width="140" height="43" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="" stroke-width="2" class="flowchart" id="op5" transform="matrix(1,0,0,1,57.75,1123.25)"></rect><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="10" y="21.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="op5t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,57.75,1123.25)" stroke-width="1"><tspan dy="6.5">更新短码到数据库</tspan></text><rect x="0" y="0" width="166" height="43" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="" stroke-width="2" class="flowchart" id="op3" transform="matrix(1,0,0,1,44.75,825)"></rect><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="10" y="21.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="op3t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,44.75,825)" stroke-width="1"><tspan dy="6.5">根据id计算对应的短码</tspan></text><path style="" fill="#ffffff" stroke="#000000" d="M45,22.5L0,45L90,90L180,45L90,0L0,45" stroke-width="2" id="cond4" class="flowchart" transform="matrix(1,0,0,1,37.75,938.875)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="50" y="45" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="cond4t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,37.75,938.875)" stroke-width="1"><tspan dy="6.5">短码是否存在</tspan></text><rect x="0" y="0" width="126" height="97" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="" stroke-width="2" class="flowchart" id="op4" transform="matrix(1,0,0,1,332.5,935.375)"></rect><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="10" y="48.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" id="op4t" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,332.5,935.375)" stroke-width="1"><tspan dy="-20.5">查询数据库</tspan><tspan dy="18" x="10">获得一条</tspan><tspan dy="18" x="10">自定义短码的url</tspan><tspan dy="18" x="10">对应的id记录</tspan></text><path style="" fill="none" stroke="#000000" d="M127.75,87.375C127.75,87.375,127.75,162.64544281363487,127.75,178.74332072006655" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M127.75,224.75C127.75,224.75,127.75,264.40409994125366,127.75,275.75043908460066" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M251.5,340.625C251.5,340.625,946.8132401369512,340.625,998.2487654693477,340.625" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="256.5" y="330.625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">yes</tspan></text><path style="" fill="none" stroke="#000000" d="M127.75,402.5C127.75,402.5,127.75,451.9564908146858,127.75,464.7552897071582" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="132.75" y="412.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">no</tspan></text><path style="" fill="none" stroke="#000000" d="M1073.75,371.125C1073.75,371.125,1073.75,1510.375,1073.75,1510.375C1073.75,1510.375,127.75,1510.375,127.75,1510.375C127.75,1510.375,127.75,1525.74844455719,127.75,1532.3842477742583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M229,518.375C229,518.375,254,518.375,254,518.375C254,518.375,254,1235.625,254,1235.625C254,1235.625,127.75,1235.625,127.75,1235.625C127.75,1235.625,127.75,1250.99844455719,127.75,1257.6342477742583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="234" y="508.375" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">yes</tspan></text><path style="" fill="none" stroke="#000000" d="M127.75,569C127.75,569,127.75,622.7493911087513,127.75,636.1342492461845" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="132.75" y="579" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">no</tspan></text><path style="" fill="none" stroke="#000000" d="M127.75,1303.625C127.75,1303.625,127.75,1378.8954428136349,127.75,1394.9933207200665" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M127.75,1441C127.75,1441,127.75,1516.2704428136349,127.75,1532.3683207200665" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M206.5,684.875C206.5,684.875,250,684.875,250,684.875C250,684.875,254,676.875,258,684.875C258,684.875,477.1351968348026,684.875,505.4900929096184,684.875" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="211.5" y="674.875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">yes</tspan></text><path style="" fill="none" stroke="#000000" d="M127.75,730.625C127.75,730.625,127.75,805.8954428136349,127.75,821.9933207200665" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="132.75" y="740.625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">no</tspan></text><path style="" fill="none" stroke="#000000" d="M688.5,684.875C688.5,684.875,780.3534675091505,684.875,798.2487475560993,684.875" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="693.5" y="674.875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">yes</tspan></text><path style="" fill="none" stroke="#000000" d="M598.5,729.875C598.5,729.875,598.5,1098.25,598.5,1098.25C598.5,1098.25,258,1098.25,258,1098.25C258,1098.25,254,1090.25,250,1098.25C250,1098.25,127.75,1098.25,127.75,1098.25C127.75,1098.25,127.75,1113.62344455719,127.75,1120.2592477742583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="603.5" y="739.875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">no</tspan></text><path style="" fill="none" stroke="#000000" d="M866.25,715.375C866.25,715.375,866.25,1510.375,866.25,1510.375C866.25,1510.375,127.75,1510.375,127.75,1510.375C127.75,1510.375,127.75,1525.74844455719,127.75,1532.3842477742583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M127.75,1166.25C127.75,1166.25,127.75,1241.5204428136349,127.75,1257.6183207200665" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M127.75,868C127.75,868,127.75,922.3848637342453,127.75,935.8748592308257" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><path style="" fill="none" stroke="#000000" d="M217.75,983.875C217.75,983.875,250,983.875,250,983.875C250,983.875,254,975.875,258,983.875C258,983.875,315.5814529955387,983.875,329.49884519905027,983.875" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="222.75" y="973.875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">yes</tspan></text><path style="" fill="none" stroke="#000000" d="M127.75,1028.875C127.75,1028.875,127.75,1104.1454428136349,127.75,1120.2433207200665" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path><text style="text-anchor: start; font: 15px &quot;Arial&quot;;" x="132.75" y="1038.875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" font-size="15px" stroke-width="1"><tspan dy="5.5">no</tspan></text><path style="" fill="none" stroke="#000000" d="M395.5,1032.375C395.5,1032.375,395.5,1057.375,395.5,1057.375C395.5,1057.375,529.375,1057.375,529.375,1057.375C529.375,1057.375,529.375,800,529.375,800C529.375,800,258,800,258,800C258,800,254,792,250,800C250,800,127.75,800,127.75,800C127.75,800,127.75,815.3734445571899,127.75,822.0092477742583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)"></path></svg>